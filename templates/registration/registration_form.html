{% extends "registration/registration_base.html" %}
{% load i18n %}

{% block title %}{% trans "Register for an account" %}{% endblock %}

{% load static %}

{% block links %}
    <link href="https://fonts.googleapis.com/css2?family=Notable&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="{% static 'css/login_style.css' %}">
{% endblock %}

{% block scripts %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="{% static 'js/script.js' %}"></script>
{% endblock %}

{% block styles %}
    .filt {
        position: relative;
        filter: url(#filt);
        width: 100%;
        height: 100%;
    }
    .pointer {
        z-index: 1000;
        position: absolute;
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background-image: linear-gradient(aqua, bisque);
        box-shadow: 0 0 190px aquamarine;
    }
    #pointer_2 {
        width: 70px;
        height: 70px;
    }
    .bubble {
        z-index: 3;
        position: absolute;
        width: 70px;
        height: 70px;
        box-shadow: 0 0 100px aquamarine;
        background-image: linear-gradient(aqua, bisque);
        border-radius: 50%;
    }
     .btn_span {
        z-index: 100;
        position: absolute;
        background: purple;
        box-shadow: 0 0 100px purple;
        transform: translate(-50%, -50%);
        pointer-events: none;
        border-radius: 50%;
        animation: animate 1s linear infinite;
    }
    .container.active .btn_span {
        background: #ffee22;

    }
    @keyframes animate {
        0% {
            width: 0;
            height: 0;
            opacity: 0.7;
        }
        100% {
            height: 1000px;
            width: 1000px;
            opacity: 0;
            background: red;
        }
    }
    .b1 {
        width: 90px;
        height: 90px;
        animation: bubble_1 20s infinite;
        /* animation-delay: 1s; */
    }
    .b2 {
        background-image: linear-gradient(to left, aqua, bisque);
        animation: bubble_2 18s infinite;
        /* animation-delay: 2s; */
    }
    .b3 {
        animation: bubble_3 20s infinite;
        animation-delay: .3s;
    }
    .b4 {
        background-image: linear-gradient(to left, aqua, bisque);
        width: 120px;
        height: 120px;
        animation: bubble_4 16s infinite;
        animation-delay: .7s;
    }
    .b5 {
        background-image: linear-gradient(to left, aqua, bisque);
        width: 100px;
        height: 100px;
        animation: bubble_5 15s infinite;
        /* animation-delay: 5s; */
    }
    .b6 {
        background-image: linear-gradient(to right, aqua, bisque);
        width: 80px;
        height: 80px;
        animation: bubble_6 17s infinite;
    }
    @keyframes bubble_1 {
        0% {
            top: 200px;
            left: 300px;
        }
        25% {
            top: 120px;
            left: 40px;
        }
        50% {
            top: 10px;
            left: 10px;
        }
        100% {
            top: 200px;
            left: 300px;
        }
    }
    @keyframes bubble_2 {
        0% {
            top: 330px;
            left: 20px;
        }
        25% {
            top: 20px;
            left: 200px;
        }
        50% {
            top: 140px;
            left: 180px;
        }
        100% {
            top: 330px;
            left: 20px;
        }
    }
    @keyframes bubble_4 {
        0% {
            top: 20px;
            left: 70px;
        }
        25% {
            top: 250px;
            left: 300px;
        }
        50% {
            top: 440px;
            left: 180px;
        }
        100% {
            top: 20px;
            left: 70px;
        }
    }
    @keyframes bubble_3 {
        0% {
            top: 40px;
            left: 0px;
        }
        50% {
            top: 300px;
            left: 200px;
        }
        100% {
            top: 40px;
            left: 0px;
        }
    }
    @keyframes bubble_5 {
        0% {
            top: 410px;
            left: 100px;
        }
        25% {
            top: 300px;
            left: 150px;
        }
        50% {
            top: 400px;
            left: 20px;
        }
        100% {
            top: 410px;
            left: 100px;
        }
    }
    @keyframes bubble_6 {
        0% {
            top: 10px;
            left: 200px;
        }
        25% {
            top: 25px;
            left: 100px;
        }
        50% {
            top: 10px;
            left: 20px;
        }
        100% {
            top: 10px;
            left: 200px;
        }
    }
    .block p {
        z-index: 100;
        position: relative;
    }
    * {
        /* display: none; */
    }
{% endblock %}

{% block content %}

    <section>
        <div class="container">

            <div class="form sign_up_bx">
                <div class="form_bx">
                    <form method="post" action="">
                        {% csrf_token %}
                        <h2>Создать аккаунт</h2>
                        <p class="required">
<!--                            <label class="required" for="id_username">{% trans 'Username' %}:</label>-->
                            <input type="text" name="username" maxlength="150" autofocus required id="id_username" placeholder="{% trans 'Username' %}">
<!--                            <span class="helptext">Обязательное поле. Не более 150 символов. Только буквы, цифры и символы @/./+/-/_.</span>-->
                        </p>
<!--                        <input type="text" name="" placeholder="Username">-->
<!--                        <p class="notice min_len user invis">username length must be at least 3 characters</p>-->
<!--                        <p class="notice min_len user invis busy">this username is busy</p>-->
                        <p class="required">
<!--                            <label class="required" for="id_email">{% trans 'Email' %}:</label>-->
                            <input type="email" name="email" required id="id_email" placeholder="{% trans 'Email' %}">
                        </p>
<!--                        <input type="email" name="" placeholder="Email Address">-->
<!--                        <p class="notice email invis">incorrect email address</p>-->
<!--                        <p class="notice email invis busy">this email address is busy</p>-->
                        <p class="required">
<!--                            <label class="required" for="id_password1">{% trans 'Password' %}:</label>-->
                            <input type="password" name="password1" required id="id_password1" placeholder="{% trans 'Password' %}">
                        </p>
<!--                        <input type="password" name="" placeholder="Password">-->
<!--                        <p class="notice min_len pwd invis">password length must be at least 7 characters</p>-->
<!--                        <p class="notice cappital pwd invis">password must contain at least one capital letter</p>-->
                        <p class="required">
<!--                            <label class="required" for="id_password2">{% trans 'Password confirmation' %}:</label>-->
                            <input type="password" name="password2" required id="id_password2" placeholder="{% trans 'Password confirmation' %}">
                        </p>
<!--                        <input class="second_password" type="password" name="" placeholder="Confirm Password">-->
<!--                        <p class="notice match invis">passwords don't match</p>-->
                        <input type="submit" value="{% trans 'Submit' %}" />
<!--                        <p class="signup">Already have an account? <a onclick="func();" href="#">Sign In.</a></p>-->
                        <p class="signup">Уже есть аккаунт? <a href="{% url 'auth_login' %}">{% trans 'Log in' %}</a>.</p>
                    </form>
                </div>
                <div class="block">
                    <div class="filt sec">
                        <div class="bubble b4"></div>
                        <div class="bubble b1"></div>
                        <div class="bubble b2"></div>
                        <div class="bubble b3"></div>
                        <div class="bubble b5"></div>
                        <div class="bubble b6"></div>
                        <div class="pointer" id="pointer_1"></div>
                        <div class="pointer" id="pointer_2"></div>
                        <div class="pointer" id="pointer_3"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <svg>
        <filter id="filt">
            <feGaussianBlur in="SourceGraphic" stdDeviation="13"/>
            <feColorMatrix
                    values= "
                1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 15 -8
                    "
            />
        </filter>
    </svg>

<!--<form method="post" action="">-->
<!--    {% csrf_token %}-->
<!--    {{ form.as_p }}-->
<!--    <input type="submit" value="{% trans 'Submit' %}" />-->
<!--</form>-->
{% endblock %}

{% block body_scripts %}
<script type="text/javascript">
    active = false;

    function func() {
        var cont = document.querySelector(".container");
        cont.classList.toggle('active');
        if (active)
            active = false;
        else
            active = true;
    }

    $(document).ready(function() {
        func();
    });

    
    document.querySelector(".sign_up_bx .block").addEventListener("mousemove", function(e) {
        var target = e.target.closest('.filt.sec');
        try {
            var targetCoords = target.getBoundingClientRect();
            var x = e.clientX - targetCoords.left;
            var y = e.clientY - targetCoords.top;
            var pointer = document.querySelector(".sec .pointer");
            pointer.style.top = y - 40 + "px";
            pointer.style.left = x - 40 + "px";
        } catch {

        }
    });
    document.querySelector(".sign_up_bx .block").addEventListener("click", function(e) {
        var target = e.target.closest('.filt.sec');
        var targetCoords = target.getBoundingClientRect();
        var x = e.clientX - targetCoords.left;
        var y = e.clientY - targetCoords.top;

        let span = document.createElement("span");
        span.classList.add("btn_span");
        span.style.left = x + "px";
        span.style.top = y + "px";
        document.querySelector(".filt.sec").appendChild(span);
        setTimeout(() => { span.remove() }, 1000);
    });
</script>
{% endblock %}



{% comment %}
**registration/registration_form.html**
Used to show the form users will fill out to register. By default, has
the following context:

``form``
    The registration form. This will be an instance of some subclass
    of ``django.forms.Form``; consult `Django's forms documentation
    <http://docs.djangoproject.com/en/dev/topics/forms/>`_ for
    information on how to display this in a template.
{% endcomment %}
